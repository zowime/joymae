import tkinter as tk
import os

class GitHubGUI:
    def __init__(self, root):
        self.root = root
        self.root.title("GitHub Repository Viewer")

        self.label = tk.Label(root, text="Enter your GitHub Personal Access Token:")
        self.label.pack()

        self.token_entry = tk.Entry(root)
        self.token_entry.pack()

        self.button = tk.Button(root, text="Login", command=self.login)
        self.button.pack()

        self.repo_listbox = tk.Listbox(root)
        self.repo_listbox.pack()

    def login(self):
        token = self.token_entry.get().strip()
        if token:
            try:
                g = Github(token)
                self.populate_repo_list(g)
            except Exception as e:
                self.repo_listbox.insert(tk.END, f"Error: {e}")
        else:
            self.repo_listbox.insert(tk.END, "Please enter a valid token")

    def populate_repo_list(self, github):
        self.repo_listbox.delete(0, tk.END)
        for repo in github.get_user().get_repos():
            self.repo_listbox.insert(tk.END, repo.full_name)

if __name__ == "__main__":
    root = tk.Tk()
    app = GitHubGUI(root)
    root.mainloop()
